<!-- DashboardView.vue -->
<template>
    <section style="max-width: 800px; margin: 32px auto; padding: 16px;">
      <h1 style="font-size: 22px; font-weight: 700; margin-bottom: 8px;">
        –ü—Ä–∏–≤–µ—Ç, {{ user?.name || '...' }} üëã
      </h1>
  
      <p style="color:#555; margin-bottom: 16px;">
        –≠—Ç–æ —Ç–≤–æ–π –¥–∞—à–±–æ—Ä–¥. –ó–¥–µ—Å—å –ø–æ—Ç–æ–º –ø–æ—è–≤—è—Ç—Å—è –∑–∞–¥–∞—á–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ —Ç.–ø.
      </p>
  
      <router-link to="/profile" style="text-decoration: underline;">
        –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å ‚Üí
      </router-link>
  
      <p v-if="loading" style="margin-top: 16px;">–ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è‚Ä¶</p>
      <p v-if="error" style="margin-top: 16px; color:#d00;">{{ error }}</p>
    </section>
  </template>
  
  <script setup>
  import { ref, onMounted } from 'vue'
  import { fetchUser } from '@/auth'
  
  const user = ref(null)
  const loading = ref(true)
  const error = ref('')
  
  onMounted(async () => {
    try {
      user.value = await fetchUser()
    } catch (e) {
      error.value = e?.message || '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è'
    } finally {
      loading.value = false
    }
  })
  </script>
  